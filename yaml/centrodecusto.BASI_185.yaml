csv:

  fields:

    CENTRO_CUSTO:
      type: integer

  keys:
    - CENTRO_CUSTO

sql:

  db: systextil

  key_count: |
    SELECT
      count(cc.DESCRICAO)
    from BASI_185 cc
    where cc.CENTRO_CUSTO = :CENTRO_CUSTO

  update: |
    UPDATE BASI_185 cc
    set
      cc.DESCRICAO = :DESCRICAO
    , cc.CENTRO_CUSTO_PAI = :CENTRO_CUSTO_PAI
    where cc.CENTRO_CUSTO = :CENTRO_CUSTO

  insert: |
    INSERT INTO BASI_185 (
      CENTRO_CUSTO
    , DESCRICAO
    , TIPO_MAO_OBRA
    , TIPO_CCUSTO
    , LOCAL_ENTREGA
    , CUSTO_MINUTO
    , DIVISAO_PRODUCAO
    , TEMPO_TURNO1
    , TEMPO_TURNO2
    , TEMPO_TURNO3
    , TEMPO_TURNO4
    , CODIGO_CRITERIO
    , CODIGO_CONTABIL
    , HORAINI_T1
    , HORAFIM_T1
    , HORAINI_T2
    , HORAFIM_T2
    , HORAINI_T3
    , HORAFIM_T3
    , HORAINI_T4
    , HORAFIM_T4
    , CC_AGRUPADOR
    , INTERVALOINI_T1
    , INTERVALOFIM_T1
    , APLICACAO_INTERVALO_T1
    , INTERVALOINI_T2
    , INTERVALOFIM_T2
    , APLICACAO_INTERVALO_T2
    , INTERVALOINI_T3
    , INTERVALOFIM_T3
    , APLICACAO_INTERVALO_T3
    , INTERVALOINI_T4
    , INTERVALOFIM_T4
    , APLICACAO_INTERVALO_T4
    , CUSTO_MINUTO_PREVISTO
    , CENTRO_CUSTO_PAI
    , CUSTO_MINUTO_ESTIMADO
    , DATA_CADASTRO
    , CUSTO_DESPESA
    , FIXO_VARIAVEL
    , DATA_ALTERACAO
    , SITUACAO
    ) VALUES (
      :CENTRO_CUSTO -- *
    , :DESCRICAO -- *
    , 1 -- TIPO_MAO_OBRA*
    , 1 -- TIPO_CCUSTO*
    , 1 -- LOCAL_ENTREGA*
    , 0 -- CUSTO_MINUTO
    , 1 -- DIVISAO_PRODUCAO*
    , 528 -- TEMPO_TURNO1*
    , 0 -- TEMPO_TURNO2*
    , 0 -- TEMPO_TURNO3*
    , 0 -- TEMPO_TURNO4*
    , 0 -- CODIGO_CRITERIO
    , 0 -- CODIGO_CONTABIL
    , TIMESTAMP '1989-11-16 07:00:00.000000' -- HORAINI_T1*
    , TIMESTAMP '1989-11-16 16:48:00.000000' -- HORAFIM_T1*
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- HORAINI_T2
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- HORAFIM_T2
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- HORAINI_T3
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- HORAFIM_T3
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- HORAINI_T4
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- HORAFIM_T4
    , 0 -- CC_AGRUPADOR
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOINI_T1
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOFIM_T1
    , 0 -- APLICACAO_INTERVALO_T1
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOINI_T2
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOFIM_T2
    , 0 -- APLICACAO_INTERVALO_T2
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOINI_T3
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOFIM_T3
    , 0 -- APLICACAO_INTERVALO_T3
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOINI_T4
    , TIMESTAMP '1989-11-16 00:00:00.000000' -- INTERVALOFIM_T4
    , 0 -- APLICACAO_INTERVALO_T4
    , 0 -- CUSTO_MINUTO_PREVISTO
    , :CENTRO_CUSTO_PAI -- *
    , 0 -- CUSTO_MINUTO_ESTIMADO
    , TIMESTAMP '2017-02-18 00:00:00.000000' -- DATA_CADASTRO*
    , 1 -- CUSTO_DESPESA*
    , 1 -- FIXO_VARIAVEL*
    , TIMESTAMP '2017-02-18 13:33:46.000000' -- DATA_ALTERACAO*
    , 0 -- SITUACAO*
    )

  key_list: |
    SELECT
      cc.CENTRO_CUSTO
    from BASI_185 cc
    where cc.CENTRO_CUSTO <> 100
      and cc.CENTRO_CUSTO <> 0

  delete: |
    DELETE FROM BASI_185 cc
    where cc.CENTRO_CUSTO = :CENTRO_CUSTO

  fault_delete: |
    UPDATE BASI_185 cc
    set
      cc.DESCRICAO = substr('##' || cc.DESCRICAO, 1, 20)
    where cc.CENTRO_CUSTO = :CENTRO_CUSTO
      and cc.DESCRICAO not like '##%'
