{
  "csv": {
    "fields": {
    }
  , "keys": [
      "REFERENCIA"
    , "CODTAM"
    , "COR"
    ]
  }
, "sql": {
    "db": "systextil"
  , "key_count": [
      "SELECT"
    , "  count(GRUPO_ESTRUTURA)"
    , "FROM BASI_010"
    , "WHERE NIVEL_ESTRUTURA = '9'"
    , "  AND GRUPO_ESTRUTURA = :REFERENCIA"
    , "  AND SUBGRU_ESTRUTURA = :CODTAM"
    , "  AND ITEM_ESTRUTURA = :COR"
    ]
  , "update": [
      "UPDATE BASI_010 SET"
    , "  CODIGO_VELHO = :CODITEMPROD"
    , ", DESCRICAO_15 = ("
    , "    SELECT"
    , "      DESCRICAO"
    , "    FROM BASI_100"
    , "    WHERE COR_SORTIMENTO = :COR"
    , "      AND TIPO_COR = 1"
    , "  )"
    , ", NARRATIVA = ("
    , "    ("
    , "      SELECT"
    , "        DESCR_REFERENCIA"
    , "      FROM BASI_030"
    , "      WHERE NIVEL_ESTRUTURA = '9'"
    , "        AND REFERENCIA = :REFERENCIA"
    , "    ) || ' ' || ("
    , "      SELECT"
    , "        DESCR_TAMANHO"
    , "      FROM BASI_220"
    , "      WHERE TAMANHO_REF = :CODTAM"
    , "    ) || ' ' || ("
    , "      SELECT"
    , "        DESCRICAO"
    , "      FROM BASI_100"
    , "      WHERE COR_SORTIMENTO = :COR"
    , "        AND TIPO_COR = 1"
    , "    )"
    , "  )"
    , "WHERE NIVEL_ESTRUTURA = '9'"
    , "  AND GRUPO_ESTRUTURA = :REFERENCIA"
    , "  AND SUBGRU_ESTRUTURA = :CODTAM"
    , "  AND ITEM_ESTRUTURA = :COR"
    ]
  , "insert": [
      "INSERT INTO BASI_010"
    , "("
    , "  NIVEL_ESTRUTURA"
    , ", GRUPO_ESTRUTURA"
    , ", SUBGRU_ESTRUTURA"
    , ", ITEM_ESTRUTURA"
    , ", CODIGO_VELHO"
    , ", DESCRICAO_15"
    , ", NARRATIVA"
    , ") VALUES ("
    , "  9"
    , ", :REFERENCIA"
    , ", :CODTAM"
    , ", :COR"
    , ", :CODITEMPROD"
    , ", ("
    , "    SELECT"
    , "      DESCRICAO"
    , "    FROM BASI_100"
    , "    WHERE COR_SORTIMENTO = :COR"
    , "      AND TIPO_COR = 1"
    , "  )"
    , ", ("
    , "    ("
    , "      SELECT"
    , "        DESCR_REFERENCIA"
    , "      FROM BASI_030"
    , "      WHERE NIVEL_ESTRUTURA = '9'"
    , "        AND REFERENCIA = :REFERENCIA"
    , "    ) || ' ' || ("
    , "      SELECT"
    , "        DESCR_TAMANHO"
    , "      FROM BASI_220"
    , "      WHERE TAMANHO_REF = :CODTAM"
    , "    ) || ' ' || ("
    , "      SELECT"
    , "        DESCRICAO"
    , "      FROM BASI_100"
    , "      WHERE COR_SORTIMENTO = :COR"
    , "        AND TIPO_COR = 1"
    , "    )"
    , "  )"
    , ")"
    ]
  , "key_list": [
      "SELECT"
    , "  rtc.GRUPO_ESTRUTURA"
    , ", rtc.SUBGRU_ESTRUTURA"
    , ", rtc.ITEM_ESTRUTURA"
    , "FROM BASI_010 rtc"
    , "LEFT JOIN BASI_030 rb"
    , "  ON rb.REFERENCIA = rtc.SUBGRU_ESTRUTURA"
    , "WHERE rb.CODIGO_CONTABIL=99"
    ]
  , "delete": [
      "DELETE FROM BASI_010"
    , "WHERE NIVEL_ESTRUTURA='9'"
    , "  AND GRUPO_ESTRUTURA=:REFERENCIA"
    , "  AND SUBGRU_ESTRUTURA=:CODTAM"
    , "  AND ITEM_ESTRUTURA=:COR;"
    ]
  }
}
